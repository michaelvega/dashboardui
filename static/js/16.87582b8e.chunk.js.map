{"version":3,"sources":["../node_modules/react-motion/lib/stripStyle.js","../node_modules/react-motion-drawer/drawer.js","../node_modules/react-motion/lib/mapToZero.js","../node_modules/react-motion/lib/stepper.js","../node_modules/react-motion/node_modules/performance-now/lib/performance-now.js","../node_modules/react-motion/lib/shouldStopAnimation.js","../node_modules/react-motion/lib/presets.js","../node_modules/react-motion/lib/react-motion.js","../node_modules/react-motion/lib/Motion.js","../node_modules/react-motion/lib/StaggeredMotion.js","../node_modules/react-motion/lib/TransitionMotion.js","../node_modules/react-motion/lib/mergeDiff.js","../node_modules/react-motion/lib/spring.js","../node_modules/react-motion/lib/reorderKeys.js","../node_modules/react-hammerjs/dist/react-hammerjs.es.js","../node_modules/hammerjs/hammer.js","../node_modules/1-liners/isFunction.js","../node_modules/react-motion-drawer/styles.js"],"names":["exports","__esModule","style","ret","key","Object","prototype","hasOwnProperty","call","val","module","defineProperty","value","_extends","assign","target","i","arguments","length","source","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","require","_propTypes2","_reactMotion","_reactHammerjs2","_isFunction2","_styles3","obj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","bool","number","object","array","string","func","oneOfType","Drawer","_React$Component","_ref","_temp","_this","this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","state","currentState","isState","s","isClosed","isOpen","isOpening","isClosing","onPress","e","noTouchOpen","preventDefault","peak","onPressUp","noTouchClose","close","onPan","isFinal","pointers","direction","deltaX","inPanTolerance","open","_this$props","right","peakingWidth","width","handleWidth","calculateWidth","clientX","x","document","body","clientWidth","closingOrOpening","nextState","PEAK","IS_OPENING","IS_CLOSING","OPEN","CLOSED","setState","onOverlayTap","test","match","subClass","superClass","create","constructor","setPrototypeOf","_inherits","nextProps","nextOpen","_props","onChange","_props2","isClosingDirection","panTolerance","Math","abs","_this2","_props3","config","drawerStyle","className","overlayClassName","children","offset","_state","createElement","Motion","myProp","spring","min","interpolated","_styles","drawer","transform","overlay","computedStyle","display","DIRECTION_HORIZONTAL","onTap","Component","propTypes","zIndex","shape","stiffness","damping","precision","height","overlayColor","fadeOut","defaultProps","secondPerFrame","v","destX","k","b","newV","newX","reusedTuple","getNanoSeconds","hrtime","loadTime","performance","now","process","hr","Date","getTime","currentStyle","currentVelocity","styleValue","noWobble","gentle","wobbly","stiff","_interopRequire","_Motion","_StaggeredMotion","StaggeredMotion","_TransitionMotion","TransitionMotion","_spring","_presets","presets","_stripStyle","stripStyle","_reorderKeys","reorderKeys","_mapToZero2","_stripStyle2","_stepper4","_performanceNow2","_raf2","_shouldStopAnimation2","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","lastIdealStyle","lastIdealVelocity","startAnimationIfNecessary","timestamp","propsStyle","onRest","currentTime","timeDelta","currentFrameCompletion","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","_stepper2","nextIdealX","nextIdealV","defaultState","defaultStyle","objectOf","isRequired","componentDidMount","componentWillReceiveProps","componentWillUnmount","cancel","render","renderedChildren","Children","only","unreadPropStyles","currentStyles","currentVelocities","lastIdealStyles","lastIdealVelocities","someDirty","destStyles","styles","shouldStopAnimationAll","newLastIdealStyles","newLastIdealVelocities","newCurrentStyles","newCurrentVelocities","j","defaultStyles","arrayOf","map","_mergeDiff2","rehydrateStyles","mergedPropsStyles","plainStyles","cUnreadPropStyles","mergedPropsStyle","data","mergeAndSync","willEnter","willLeave","didLeave","oldMergedPropsStyles","oldCurrentStyles","oldCurrentVelocities","oldLastIdealStyles","oldLastIdealVelocities","newMergedPropsStyles","oldIndex","oldMergedPropsStyle","leavingStyle","newMergedPropsStyleCell","foundOldIndex","plainStyle","velocity","unmounting","_mergeAndSync","propStyles","_mergeAndSync2","newMergedPropsStyle","any","styleThatEntered","undefined","defaultStyleCell","_mergeAndSync3","hydratedStyles","prev","next","onRemove","prevKeyIndex","nextKeyIndex","fill","push","sort","a","nextOrderA","nextOrderB","prevOrderA","prevOrderB","pivot","defaultConfig","_presets2","Hammer","window","privateProps","options","recognizeWith","vertical","handlerToEvent","action","onDoubleTap","onPanCancel","onPanEnd","onPanStart","onPinch","onPinchCancel","onPinchEnd","onPinchIn","onPinchOut","onPinchStart","onRotate","onRotateCancel","onRotateEnd","onRotateMove","onRotateStart","onSwipe","onSwipeRight","onSwipeLeft","onSwipeUp","onSwipeDown","updateHammer","hammer","console","warn","directionProp","get","set","keys","forEach","option","recognizers","gesture","recognizer","requireFailure","optionObj","p","off","on","HammerComponent","domElement","stop","destroy","ref","React","cloneElement","displayName","PropTypes","exportName","VENDOR_PREFIXES","TEST_ELEMENT","round","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","isArray","each","iterator","deprecate","method","name","message","deprecationMessage","Error","stack","replace","log","output","index","nextKey","extend","dest","src","merge","inherit","child","base","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","results","values","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocityX","velocityY","last","lastInterval","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientY","p1","p2","sqrt","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","defaults","id","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","createInputInstance","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","events","gestureEvent","createEvent","initEvent","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","define","_defineProperty","_transform","_overlay","left","opacity","overlayTransform","overflow","boxSizing","pointer","position","background","top"],"mappings":"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","file":"static/js/16.87582b8e.chunk.js","sourcesContent":["\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require(\"react-motion\");\n\nvar _reactHammerjs = require(\"react-hammerjs\");\n\nvar _reactHammerjs2 = _interopRequireDefault(_reactHammerjs);\n\nvar _isFunction = require(\"1-liners/isFunction\");\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _styles2 = require(\"./styles\");\n\nvar _styles3 = _interopRequireDefault(_styles2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar bool = _propTypes2.default.bool,\n    number = _propTypes2.default.number,\n    array = _propTypes2.default.array,\n    object = _propTypes2.default.object,\n    string = _propTypes2.default.string,\n    func = _propTypes2.default.func,\n    oneOfType = _propTypes2.default.oneOfType;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentState: \"CLOSED\"\n    }, _this.isState = function (s) {\n      return s === _this.state.currentState;\n    }, _this.isClosed = function () {\n      return _this.isState(\"CLOSED\");\n    }, _this.isOpen = function () {\n      return _this.isState(\"OPEN\");\n    }, _this.isOpening = function () {\n      return _this.isState(\"IS_OPENING\");\n    }, _this.isClosing = function () {\n      return _this.isState(\"IS_CLOSING\");\n    }, _this.onPress = function (e) {\n      if (_this.props.noTouchOpen) return;\n      e.preventDefault();\n      _this.peak();\n    }, _this.onPressUp = function (e) {\n      if (_this.props.noTouchClose) return;\n      e.preventDefault();\n      _this.close();\n    }, _this.onPan = function (e) {\n      if (_this.isClosed() && _this.props.noTouchOpen) return;\n      if (_this.isOpen() && _this.props.noTouchClose) return;\n      e.preventDefault();\n\n      var isFinal = e.isFinal,\n          pointers = e.pointers,\n          direction = e.direction,\n          deltaX = e.deltaX;\n\n      if (_this.inPanTolerance(deltaX)) return;\n\n      if (isFinal) {\n        if (_this.isOpening()) _this.open();else if (_this.isClosing()) _this.close();\n        return;\n      }\n\n      var currentState = _this.state.currentState;\n      var _this$props = _this.props,\n          right = _this$props.right,\n          peakingWidth = _this$props.peakingWidth,\n          handleWidth = _this$props.handleWidth;\n\n      var width = _this.calculateWidth();\n      var clientX = pointers[0].clientX;\n\n\n      var x = right ? document.body.clientWidth - clientX : clientX;\n\n      if (x + peakingWidth >= width) x = width - peakingWidth;\n\n      var closingOrOpening = _this.closingOrOpening(direction);\n      var nextState = {\n        PEAK: closingOrOpening,\n        IS_OPENING: closingOrOpening,\n        IS_CLOSING: closingOrOpening,\n        OPEN: \"IS_CLOSING\",\n        CLOSED: \"PEAK\"\n      };\n\n      _this.setState({\n        currentState: nextState[currentState],\n        x: _this.isClosed() ? peakingWidth : peakingWidth / 2 + x\n      });\n    }, _this.onOverlayTap = function (e) {\n      e.preventDefault();\n      if (_this.isOpen()) _this.close();\n    }, _this.calculateWidth = function () {\n      var width = _this.props.width;\n      return (/\\D/.test(width) ? document.body.clientWidth * (width.match(/\\d*/) / 100) : width\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var open = this.props.open;\n      var nextOpen = nextProps.open;\n\n\n      if (nextOpen !== open) {\n        if (nextOpen) this.open();else this.close();\n      }\n    }\n  }, {\n    key: \"peak\",\n    value: function peak() {\n      var _props = this.props,\n          onChange = _props.onChange,\n          handleWidth = _props.handleWidth;\n\n      onChange(false);\n      return this.setState({ currentState: \"PEAK\", x: handleWidth });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.props.onChange(false);\n      return this.setState({ currentState: \"CLOSED\", x: 0 });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _props2 = this.props,\n          onChange = _props2.onChange,\n          width = _props2.width;\n\n      onChange(true);\n\n      return this.setState({ currentState: \"OPEN\", x: this.calculateWidth() });\n    }\n  }, {\n    key: \"isClosingDirection\",\n    value: function isClosingDirection(direction) {\n      var right = this.props.right;\n\n      var isClosing = direction === 2;\n\n      if (right) return !isClosing;else return isClosing;\n    }\n  }, {\n    key: \"closingOrOpening\",\n    value: function closingOrOpening(direction) {\n      return this.isClosingDirection(direction) ? \"IS_CLOSING\" : \"IS_OPENING\";\n    }\n  }, {\n    key: \"inPanTolerance\",\n    value: function inPanTolerance(deltaX) {\n      var currentState = this.state.currentState;\n      var panTolerance = this.props.panTolerance;\n\n\n      return Math.abs(deltaX) <= panTolerance && currentState === \"OPEN\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          config = _props3.config,\n          drawerStyle = _props3.drawerStyle,\n          className = _props3.className,\n          overlayClassName = _props3.overlayClassName,\n          width = _props3.width,\n          children = _props3.children,\n          offset = _props3.offset;\n      var _state = this.state,\n          currentState = _state.currentState,\n          x = _state.x;\n\n\n      return _react2.default.createElement(\n        _reactMotion.Motion,\n        { style: { myProp: (0, _reactMotion.spring)(Math.min(x + offset || 0, this.calculateWidth()), config) } },\n        function (interpolated) {\n          var _styles = (0, _styles3.default)(interpolated.myProp, _this2.props),\n              drawer = _styles.drawer,\n              transform = _styles.transform,\n              overlay = _styles.overlay;\n\n          var computedStyle = _extends({}, drawer, drawerStyle);\n          if (interpolated.myProp > 0) computedStyle.display = \"block\";else computedStyle.display = \"none\";\n\n          return _react2.default.createElement(\n            _reactHammerjs2.default,\n            {\n              onPress: _this2.onPress,\n              onPressUp: _this2.onPressUp,\n              onPan: _this2.onPan,\n              direction: _reactHammerjs2.default.DIRECTION_HORIZONTAL\n            },\n            _react2.default.createElement(\n              \"div\",\n              { style: transform },\n              _react2.default.createElement(\n                \"div\",\n                { className: className, style: computedStyle },\n                (0, _isFunction2.default)(children) ? children(interpolated.myProp) : children,\n                !_this2.isClosed() && _react2.default.createElement(\n                  _reactHammerjs2.default,\n                  {\n                    style: overlay,\n                    className: overlayClassName,\n                    onTap: _this2.onOverlayTap\n                  },\n                  _react2.default.createElement(\"span\", null)\n                )\n              )\n            )\n          );\n        }\n      );\n    }\n  }]);\n\n  return Drawer;\n}(_react2.default.Component);\n\nDrawer.propTypes = {\n  zIndex: number, // z-index of the drawer default is 10000\n  noTouchOpen: bool, // can a user pan to open\n  noTouchClose: bool, // can a user pan to close\n  onChange: func, // called when the drawer is open\n  drawerStyle: object, // additional drawer styles\n  className: string, // additional drawer className\n  overlayClassName: string, // additional overlay className\n  config: _propTypes2.default.shape({\n    stiffness: number,\n    damping: number,\n    precision: number\n  }), // configuration of the react-motion animation\n  open: bool, // states if the drawer is open\n  width: oneOfType([number, string]), // width of the drawer\n  height: oneOfType([number, string]), // height of the drawer\n  handleWidth: number, // width of the handle\n  peakingWidth: number, // width that the drawer peaks on press\n  panTolerance: number, // tolerance until the drawer starts to move\n  right: bool, // drawer on the right side of the screen\n  overlayColor: string, // color of the overlay\n  fadeOut: bool, // fade out\n  offset: number // offset\n};\nDrawer.defaultProps = {\n  zIndex: 10000,\n  noTouchOpen: false,\n  noTouchClose: false,\n  onChange: function onChange() {},\n  overlayColor: \"rgba(0, 0, 0, 0.4)\",\n  config: { stiffness: 350, damping: 40 },\n  open: false,\n  width: 300,\n  height: \"100%\",\n  handleWidth: 20,\n  peakingWidth: 50,\n  panTolerance: 50,\n  right: false,\n  fadeOut: false,\n  offset: 0\n};\nexports.default = Drawer;","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle);\n\n// deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar StaggeredMotion = (function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n\n      var someDirty = false;\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n})(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default'];\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\n// the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  }\n\n  // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// core key merging logic\n\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n    if (leavingStyle == null) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    }\n    // TODO: key search code\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = (function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      }\n\n      // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      }\n\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;\n\n    // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n    var oldMergedPropsStyles = undefined;\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n        return defaultStyleCell;\n      });\n    }\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync(\n    // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4];\n    // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  };\n\n  // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n})(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default'];\n\n// list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","\n\n// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n\n  var prevKeyIndex = {};\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n  var nextKeyIndex = {};\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  }\n\n  // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n  var ret = [];\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  }\n\n  // now all the items all present. Core sorting logic to have the right order\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      }\n      // pluggable. default to: next bigger than prev\n      return 1;\n    }\n    // prevOrderA, nextOrderB\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    }\n    // pluggable. default to: next bigger than prev\n    return -1;\n  });\n}\n\nmodule.exports = exports['default'];\n// to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\n\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","import PropTypes from 'prop-types';\nimport React from 'react';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// require('hammerjs') when in a browser. This is safe because Hammer is only\n// invoked in componentDidMount, which is not executed on the server.\nvar Hammer = typeof window !== 'undefined' ? require('hammerjs') : undefined;\n\nvar privateProps = {\n\tchildren: true,\n\tdirection: true,\n\toptions: true,\n\trecognizeWith: true,\n\tvertical: true\n};\n\n/**\n * Hammer Component\n * ================\n */\n\nvar handlerToEvent = {\n\taction: 'tap press',\n\tonDoubleTap: 'doubletap',\n\tonPan: 'pan',\n\tonPanCancel: 'pancancel',\n\tonPanEnd: 'panend',\n\tonPanStart: 'panstart',\n\tonPinch: 'pinch',\n\tonPinchCancel: 'pinchcancel',\n\tonPinchEnd: 'pinchend',\n\tonPinchIn: 'pinchin',\n\tonPinchOut: 'pinchout',\n\tonPinchStart: 'pinchstart',\n\tonPress: 'press',\n\tonPressUp: 'pressup',\n\tonRotate: 'rotate',\n\tonRotateCancel: 'rotatecancel',\n\tonRotateEnd: 'rotateend',\n\tonRotateMove: 'rotatemove',\n\tonRotateStart: 'rotatestart',\n\tonSwipe: 'swipe',\n\tonSwipeRight: 'swiperight',\n\tonSwipeLeft: 'swipeleft',\n\tonSwipeUp: 'swipeup',\n\tonSwipeDown: 'swipedown',\n\tonTap: 'tap'\n};\n\nObject.keys(handlerToEvent).forEach(function (i) {\n\tprivateProps[i] = true;\n});\n\nfunction updateHammer(hammer, props) {\n\tif (props.hasOwnProperty('vertical')) {\n\t\tconsole.warn('vertical is deprecated, please use `direction` instead');\n\t}\n\n\tvar directionProp = props.direction;\n\tif (directionProp || props.hasOwnProperty('vertical')) {\n\t\tvar direction = directionProp ? directionProp : props.vertical ? 'DIRECTION_ALL' : 'DIRECTION_HORIZONTAL';\n\t\thammer.get('pan').set({ direction: Hammer[direction] });\n\t\thammer.get('swipe').set({ direction: Hammer[direction] });\n\t}\n\n\tif (props.options) {\n\t\tObject.keys(props.options).forEach(function (option) {\n\t\t\tif (option === 'recognizers') {\n\t\t\t\tObject.keys(props.options.recognizers).forEach(function (gesture) {\n\t\t\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\t\t\trecognizer.set(props.options.recognizers[gesture]);\n\t\t\t\t\tif (props.options.recognizers[gesture].requireFailure) {\n\t\t\t\t\t\trecognizer.requireFailure(props.options.recognizers[gesture].requireFailure);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t} else {\n\t\t\t\tvar key = option;\n\t\t\t\tvar optionObj = {};\n\t\t\t\toptionObj[key] = props.options[option];\n\t\t\t\thammer.set(optionObj);\n\t\t\t}\n\t\t}, this);\n\t}\n\n\tif (props.recognizeWith) {\n\t\tObject.keys(props.recognizeWith).forEach(function (gesture) {\n\t\t\tvar recognizer = hammer.get(gesture);\n\t\t\trecognizer.recognizeWith(props.recognizeWith[gesture]);\n\t\t}, this);\n\t}\n\n\tObject.keys(props).forEach(function (p) {\n\t\tvar e = handlerToEvent[p];\n\t\tif (e) {\n\t\t\thammer.off(e);\n\t\t\thammer.on(e, props[p]);\n\t\t}\n\t});\n}\n\nvar HammerComponent = function (_React$Component) {\n\t_inherits(HammerComponent, _React$Component);\n\n\tfunction HammerComponent() {\n\t\t_classCallCheck(this, HammerComponent);\n\n\t\treturn _possibleConstructorReturn(this, (HammerComponent.__proto__ || Object.getPrototypeOf(HammerComponent)).apply(this, arguments));\n\t}\n\n\t_createClass(HammerComponent, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis.hammer = new Hammer(this.domElement);\n\t\t\tupdateHammer(this.hammer, this.props);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate() {\n\t\t\tif (this.hammer) {\n\t\t\t\tupdateHammer(this.hammer, this.props);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tif (this.hammer) {\n\t\t\t\tthis.hammer.stop();\n\t\t\t\tthis.hammer.destroy();\n\t\t\t}\n\t\t\tthis.hammer = null;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar props = {};\n\n\t\t\tObject.keys(this.props).forEach(function (i) {\n\t\t\t\tif (!privateProps[i]) {\n\t\t\t\t\tprops[i] = this.props[i];\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tvar self = this;\n\t\t\tprops.ref = function (domElement) {\n\t\t\t\tif (self.props.ref) {\n\t\t\t\t\tself.props.ref(domElement);\n\t\t\t\t}\n\t\t\t\tself.domElement = domElement;\n\t\t\t};\n\n\t\t\t// Reuse the child provided\n\t\t\t// This makes it flexible to use whatever element is wanted (div, ul, etc)\n\t\t\treturn React.cloneElement(React.Children.only(this.props.children), props);\n\t\t}\n\t}]);\n\n\treturn HammerComponent;\n}(React.Component);\n\nHammerComponent.displayName = 'Hammer';\nHammerComponent.propTypes = {\n\tclassName: PropTypes.string\n};\n\nexport default HammerComponent;\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * @module 1-liners/isFunction\n *\n * @description\n *\n * Same as `typeof value === 'function'`.\n *\n * @example\n *\n * \tconst isFunction = require('1-liners/isFunction');\n *\n * \tisFunction(function() {});        // => true\n * \tisFunction(function named() {});  // => true\n *\n * \tisFunction('any other value');    // => false\n *\n */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (value) {\n  return typeof value === 'function';\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (val, props) {\n  var _transform, _overlay;\n\n  var zIndex = props.zIndex,\n      left = props.left,\n      right = props.right,\n      height = props.height,\n      handleWidth = props.handleWidth,\n      overlayColor = props.overlayColor,\n      fadeOut = props.fadeOut,\n      offset = props.offset;\n\n\n  var clientWidth = 1000;\n  var width = props.width;\n\n  if (typeof document !== \"undefined\") {\n    clientWidth = document.body.clientWidth;\n    if (/\\D/.test(width)) width = document.body.clientWidth * (width.match(/\\d*/) / 100);\n  }\n\n  var opacity = (val - offset) / width;\n\n  if (right) val = width - val;else val = val - width;\n\n  var drawer = {\n    display: \"block\",\n    width: width,\n    height: height,\n    overflow: \"auto\"\n  };\n\n  var transform = (_transform = {\n    boxSizing: \"content-box\",\n    pointer: \"cursor\",\n    position: \"fixed\",\n    display: \"block\",\n    zIndex: zIndex,\n    width: width\n  }, _defineProperty(_transform, right ? \"paddingLeft\" : \"paddingRight\", handleWidth), _defineProperty(_transform, \"maxWidth\", width), _defineProperty(_transform, \"height\", height), _defineProperty(_transform, \"top\", 0), _defineProperty(_transform, right ? \"right\" : \"left\", 0), _defineProperty(_transform, \"margin\", 0), _defineProperty(_transform, \"transform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"WebkitTransform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"opacity\", fadeOut ? opacity : 1), _transform);\n\n  var overlayTransform = right ? -width : width;\n  var overlay = (_overlay = {\n    zIndex: -2,\n    pointer: \"cursor\",\n    position: \"fixed\",\n    width: clientWidth,\n    height: \"100%\",\n    background: overlayColor,\n    opacity: opacity,\n    top: 0\n  }, _defineProperty(_overlay, right ? \"right\" : \"left\", 0), _defineProperty(_overlay, \"margin\", 0), _defineProperty(_overlay, \"transform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _defineProperty(_overlay, \"WebkitTransform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _overlay);\n\n  return { drawer: drawer, transform: transform, overlay: overlay };\n};\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }"],"sourceRoot":""}